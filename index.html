<!DOCTYPE html>
<html lang="pt" data-lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ActivEU – Solidarity Action Day em Portugal</title>
  <meta name="description" content="ActivEU implementa em Portugal o Solidarity Action Day: trocas aulas por experiência real, doas para causas verificadas e sais com competências certificadas." />

  <!-- Fonts (Agenius-like: condensed display + clean body) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Fuse.js for command palette search (no build) -->
  <script defer src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>

  <style>
    :root{
      /* Agenius-ish palette */
      --cream: #fbf4e4;
      --cream-2:#fff7e9;
      --ink: #120810;
      --burgundy:#3a0520;
      --burgundy-2:#5b0b31;
      --mint:#b9f3c8;
      --mint-2:#ddffe6;
      --sun:#ffd56b;
      --sky:#bfe9ff;
      --lav:#e9d7ff;

      --card:#ffffffcc;
      --stroke:#1a0d18;
      --stroke-soft: rgba(26,13,24,.12);

      --shadow: 0 18px 60px rgba(0,0,0,.14);
      --shadow-soft: 0 12px 30px rgba(0,0,0,.10);

      --r-xl: 28px;
      --r-lg: 20px;
      --r-md: 14px;

      --max: 1200px;
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--ink);
      background: var(--cream);
      overflow-x:hidden;
      -webkit-font-smoothing: antialiased;
      text-rendering: geometricPrecision;
      scroll-behavior:smooth;
    }
    a{ color:inherit; text-decoration:none; }
    button{ font:inherit; }

    /* Subtle grain + paper vibe */
    .paper{
      position:fixed;
      inset:0;
      pointer-events:none;
      background:
        radial-gradient(1200px 800px at 10% 0%, rgba(255,255,255,.55), transparent 60%),
        radial-gradient(900px 700px at 90% 10%, rgba(255,255,255,.35), transparent 55%),
        radial-gradient(900px 800px at 70% 90%, rgba(255,255,255,.25), transparent 60%);
      mix-blend-mode: normal;
      z-index:-2;
    }
    .grain{
      position:fixed; inset:-40%;
      pointer-events:none;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23n)' opacity='.18'/%3E%3C/svg%3E");
      transform:rotate(7deg);
      opacity:.10;
      z-index:-1;
    }

    /* Scroll progress */
    .progress{
      position:fixed; top:0; left:0;
      height:3px; width:0%;
      background: linear-gradient(90deg, var(--sun), var(--burgundy));
      z-index:999;
    }

    /* Layout container */
    .wrap{ max-width: var(--max); margin:0 auto; padding: 0 18px; }

    /* Header */
    header{
      position:sticky; top:0;
      z-index:50;
      background: rgba(251,244,228,.82);
      backdrop-filter: blur(14px);
      border-bottom:1px solid rgba(0,0,0,.06);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      padding: 12px 0;
      gap: 14px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      min-width: 210px;
    }
    .brand-badge{
      display:flex; align-items:center; justify-content:center;
      padding: 7px 12px;
      border-radius: 999px;
      background: #fff;
      border:1.4px solid var(--stroke-soft);
      box-shadow: 0 10px 22px rgba(0,0,0,.08);
      font-weight:700;
      letter-spacing:.2px;
      gap:8px;
    }
    .brand-dot{
      width:10px; height:10px; border-radius:50%;
      background: var(--mint);
      border:1.4px solid rgba(0,0,0,.15);
    }
    .brand small{
      display:block;
      font-size: 11px;
      opacity:.72;
      margin-top: 2px;
    }

    .navlinks{
      display:flex; align-items:center; gap:18px;
      font-size: 12px;
      opacity:.92;
      white-space:nowrap;
    }
    .navlinks a{
      position:relative;
      padding: 6px 2px;
    }
    .navlinks a::after{
      content:"";
      position:absolute; left:0; right:0; bottom:2px;
      height:1.6px;
      transform: scaleX(0);
      transform-origin:left;
      background: var(--ink);
      transition: transform .18s ease;
      opacity:.75;
    }
    .navlinks a:hover::after,
    .navlinks a[data-active="true"]::after{
      transform: scaleX(1);
    }

    .nav-actions{
      display:flex; align-items:center; gap:10px;
      min-width: 220px;
      justify-content:flex-end;
    }

    .pill{
      border-radius:999px;
      border:1.6px solid rgba(0,0,0,.14);
      background:#fff;
      padding: 8px 12px;
      box-shadow: 0 10px 20px rgba(0,0,0,.07);
      display:inline-flex; align-items:center; gap:10px;
      cursor:pointer;
    }
    .pill:hover{ transform: translateY(-1px); }
    .pill:active{ transform: translateY(0px); }
    .pill .kbd{
      font-size:11px;
      opacity:.65;
      padding: 2px 7px;
      border-radius:999px;
      border:1px dashed rgba(0,0,0,.24);
      background: rgba(255,255,255,.7);
    }

    .menuBtn{
      border-radius: 999px;
      border: 1.8px solid rgba(0,0,0,.14);
      background: var(--mint);
      padding: 8px 14px;
      cursor:pointer;
      font-weight:700;
      box-shadow: 0 10px 20px rgba(0,0,0,.07);
    }
    .menuBtn:hover{ filter:saturate(1.1); }
    .langBtn{
      border-radius:999px;
      border:1.8px solid rgba(0,0,0,.14);
      background:#fff;
      padding: 8px 12px;
      cursor:pointer;
      font-weight:700;
      box-shadow: 0 10px 20px rgba(0,0,0,.07);
    }

    /* Mobile menu drawer */
    .drawer{
      position:fixed; inset:0;
      display:none;
      z-index:200;
    }
    .drawer[data-open="true"]{ display:block; }
    .drawer .backdrop{
      position:absolute; inset:0;
      background: rgba(0,0,0,.35);
      backdrop-filter: blur(4px);
    }
    .drawer .panel{
      position:absolute; right:0; top:0; height:100%;
      width:min(420px, 92vw);
      background: var(--cream-2);
      border-left: 2px solid rgba(0,0,0,.12);
      padding: 18px 18px 22px;
      box-shadow: var(--shadow);
      display:flex; flex-direction:column; gap:12px;
    }
    .drawer .panel h3{
      margin:0;
      font-family: "Bebas Neue", sans-serif;
      letter-spacing: .8px;
      font-size: 26px;
      color: var(--burgundy);
    }
    .drawer a{
      display:flex; justify-content:space-between; align-items:center;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1.6px solid rgba(0,0,0,.12);
      background: #fff;
      box-shadow: 0 12px 22px rgba(0,0,0,.07);
      font-weight:600;
    }
    .drawer a span{ opacity:.65; font-weight:700; }

    /* HERO */
    .hero{
      position:relative;
      padding: 36px 0 26px;
    }

    .heroGrid{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap: 22px;
      align-items: start;
    }

    .bigWord{
      font-family: "Bebas Neue", sans-serif;
      font-size: clamp(68px, 12vw, 170px);
      line-height: .85;
      letter-spacing: 1px;
      color: var(--burgundy);
      text-shadow: 0 18px 50px rgba(58,5,32,.12);
      margin: 18px 0 10px;
    }

    .subLine{
      display:flex; align-items:flex-end; gap:16px;
      margin-top: 8px;
      flex-wrap: wrap;
    }
    .subLine .tagline{
      font-weight:800;
      font-size: clamp(18px, 2.4vw, 36px);
      letter-spacing: -0.6px;
      max-width: 520px;
    }
    .subLine .micro{
      font-size: 13px;
      opacity:.76;
      max-width: 280px;
      line-height:1.35;
    }

    .ctaRow{
      display:flex; gap:10px;
      margin-top: 16px;
      flex-wrap: wrap;
      align-items:center;
    }
    .cta{
      border-radius: 999px;
      border: 2px solid rgba(0,0,0,.14);
      background: var(--sun);
      padding: 10px 16px;
      font-weight:800;
      box-shadow: 0 14px 22px rgba(0,0,0,.10);
      cursor:pointer;
    }
    .cta.secondary{
      background:#fff;
      font-weight:800;
    }

    /* Stickers + scribbles */
    .sticker{
      position:absolute;
      border-radius: 999px;
      padding: 8px 12px;
      font-size: 12px;
      font-weight:800;
      border: 1.8px solid rgba(0,0,0,.12);
      background: #fff;
      box-shadow: 0 16px 26px rgba(0,0,0,.09);
      display:flex; align-items:center; gap:8px;
      user-select:none;
    }
    .sticker .dot{
      width:10px; height:10px; border-radius:50%;
      border:1.6px solid rgba(0,0,0,.14);
      background: var(--mint);
    }
    .sticker[data-tone="lav"]{ background: var(--lav); }
    .sticker[data-tone="sky"]{ background: var(--sky); }
    .sticker[data-tone="mint"]{ background: var(--mint-2); }
    .sticker[data-tone="sun"]{ background: #fff2c9; }

    .scribble{
      position:absolute;
      width: 220px;
      height: 120px;
      pointer-events:none;
      opacity:.9;
    }

    /* Right hero card */
    .heroCard{
      background: rgba(255,255,255,.78);
      border: 2px solid rgba(0,0,0,.12);
      border-radius: var(--r-xl);
      box-shadow: var(--shadow-soft);
      padding: 16px;
      position:relative;
      overflow:hidden;
    }
    .rings{
      position:absolute; inset:-40%;
      background:
        radial-gradient(circle at 50% 40%,
          rgba(255, 88, 210, .18) 0%,
          rgba(255, 88, 210, .10) 18%,
          rgba(255, 88, 210, .00) 38%),
        repeating-radial-gradient(circle at 50% 40%,
          rgba(58,5,32,.12) 0px,
          rgba(58,5,32,.12) 3px,
          rgba(251,244,228,0) 16px,
          rgba(251,244,228,0) 26px);
      filter: blur(0px);
      transform: rotate(6deg);
      opacity:.9;
    }
    .heroCard .content{ position:relative; }
    .heroCard h2{
      margin:0;
      font-family:"Bebas Neue", sans-serif;
      letter-spacing:.7px;
      font-size: 34px;
      color: var(--burgundy);
    }
    .heroCard p{ margin:10px 0 0; font-size: 13px; opacity:.8; line-height:1.45; }
    .heroStats{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 14px;
    }
    .stat{
      background: rgba(255,255,255,.75);
      border: 1.6px solid rgba(0,0,0,.10);
      border-radius: 16px;
      padding: 12px;
      box-shadow: 0 12px 18px rgba(0,0,0,.06);
    }
    .stat b{
      display:block;
      font-family:"Bebas Neue", sans-serif;
      font-size: 28px;
      letter-spacing:.6px;
      color: var(--ink);
      line-height:1;
    }
    .stat span{ font-size: 12px; opacity:.75; }

    /* Section base */
    section{
      position:relative;
      padding: 78px 0;
    }
    section .head{
      display:flex;
      justify-content:space-between;
      align-items:flex-end;
      gap: 16px;
      margin-bottom: 22px;
    }
    .kicker{
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-weight:900;
      font-size: 12px;
      border: 1.8px solid rgba(0,0,0,.12);
      background:#fff;
      padding: 7px 10px;
      border-radius: 999px;
      box-shadow: 0 12px 18px rgba(0,0,0,.06);
      width: fit-content;
    }
    .kicker i{
      width:10px; height:10px;
      border-radius:50%;
      background: var(--mint);
      border:1.6px solid rgba(0,0,0,.14);
      display:inline-block;
    }
    h2.sectionTitle{
      margin: 10px 0 0;
      font-family:"Bebas Neue", sans-serif;
      font-size: clamp(38px, 5vw, 72px);
      line-height:.92;
      letter-spacing: .8px;
      color: var(--burgundy);
    }
    .lead{
      margin: 10px 0 0;
      font-size: 14px;
      opacity:.8;
      max-width: 520px;
      line-height:1.45;
    }

    /* Scallop separators like Agenius */
    .scallopTop, .scallopBottom{
      position:absolute; left:0; right:0;
      height: 38px;
      background: var(--cream);
      pointer-events:none;
      z-index:2;
    }
    .scallopTop{ top:-1px; }
    .scallopBottom{ bottom:-1px; transform: rotate(180deg); }
    .scallopTop::before, .scallopBottom::before{
      content:"";
      position:absolute; left:0; right:0; top:-1px;
      height: 40px;
      background:
        radial-gradient(circle at 20px 20px, transparent 19px, var(--cream) 20px) 0 0/40px 40px;
      opacity:1;
    }

    /* “Rings” background sections */
    .ringsBg{
      position:absolute; inset:0;
      background:
        radial-gradient(circle at 50% -10%,
          rgba(255, 88, 210, .18) 0%,
          rgba(255, 88, 210, .10) 18%,
          rgba(255, 88, 210, .00) 40%),
        repeating-radial-gradient(circle at 50% 5%,
          rgba(58,5,32,.10) 0px,
          rgba(58,5,32,.10) 3px,
          rgba(251,244,228,0) 16px,
          rgba(251,244,228,0) 28px);
      opacity:.92;
      pointer-events:none;
    }

    /* Why blocks (7) */
    .grid7{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
      position:relative;
      z-index:3;
    }
    .block{
      grid-column: span 6;
      background: rgba(255,255,255,.76);
      border: 2px solid rgba(0,0,0,.12);
      border-radius: var(--r-lg);
      box-shadow: 0 16px 26px rgba(0,0,0,.08);
      padding: 16px 16px 14px;
      position:relative;
      overflow:hidden;
    }
    .block h3{
      margin:0;
      font-size: 16px;
      letter-spacing: -0.2px;
      font-weight: 900;
    }
    .block p{ margin: 8px 0 0; font-size: 13px; opacity:.82; line-height:1.45; }

    .block .badge{
      position:absolute; top: 12px; right: 12px;
      font-size: 11px;
      font-weight: 900;
      padding: 6px 10px;
      border-radius:999px;
      border: 1.6px solid rgba(0,0,0,.12);
      background: #fff;
      transform: rotate(2deg);
    }

    /* What we do: interactive “split card” */
    .split{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
      align-items:start;
    }
    .accordion{
      background: rgba(255,255,255,.76);
      border: 2px solid rgba(0,0,0,.12);
      border-radius: var(--r-xl);
      box-shadow: var(--shadow-soft);
      overflow:hidden;
    }
    details{
      border-top: 1px solid rgba(0,0,0,.10);
    }
    details:first-child{ border-top:none; }
    summary{
      list-style:none;
      cursor:pointer;
      padding: 16px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      user-select:none;
      font-weight:900;
    }
    summary::-webkit-details-marker{ display:none; }
    .sumLeft{
      display:flex; align-items:center; gap:10px;
    }
    .chip{
      width: 34px; height: 34px;
      border-radius: 12px;
      display:grid; place-items:center;
      background: var(--mint-2);
      border: 1.6px solid rgba(0,0,0,.10);
      font-weight:900;
    }
    .sumMeta{
      font-size:12px;
      font-weight:800;
      opacity:.75;
    }
    .caret{
      width: 10px; height: 10px;
      border-right: 2px solid rgba(0,0,0,.65);
      border-bottom: 2px solid rgba(0,0,0,.65);
      transform: rotate(-45deg);
      transition: transform .18s ease;
      margin-right: 4px;
      opacity:.85;
    }
    details[open] .caret{ transform: rotate(45deg); }
    .panel{
      padding: 0 16px 16px;
      display:grid;
      gap: 12px;
    }
    .labels{
      display:flex;
      flex-wrap:wrap;
      gap: 8px;
      margin-top: 2px;
    }
    .label{
      font-size: 11px;
      font-weight: 900;
      padding: 7px 10px;
      border-radius:999px;
      border:1.6px solid rgba(0,0,0,.12);
      background:#fff;
    }

    .explain{
      background: rgba(255,255,255,.62);
      border: 2px solid rgba(0,0,0,.10);
      border-radius: var(--r-xl);
      box-shadow: var(--shadow-soft);
      padding: 16px;
      position:relative;
      overflow:hidden;
      min-height: 320px;
    }
    .explain .ringsMini{
      position:absolute; inset:-55%;
      background:
        radial-gradient(circle at 50% 35%,
          rgba(191,233,255,.35) 0%,
          rgba(191,233,255,.08) 28%,
          transparent 46%),
        repeating-radial-gradient(circle at 50% 35%,
          rgba(58,5,32,.10) 0px,
          rgba(58,5,32,.10) 3px,
          rgba(251,244,228,0) 16px,
          rgba(251,244,228,0) 28px);
      transform: rotate(-6deg);
      opacity:.85;
    }
    .explain .box{
      position:relative;
      display:grid; gap:10px;
    }
    .explain h3{
      margin:0;
      font-family:"Bebas Neue", sans-serif;
      letter-spacing:.7px;
      font-size: 34px;
      color: var(--burgundy);
      line-height:1;
    }
    .explain p{
      margin:0;
      font-size: 13px;
      opacity:.82;
      line-height:1.5;
      max-width: 56ch;
    }

    /* Projects grid */
    .projGrid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
      position:relative;
      z-index:3;
    }
    .proj{
      grid-column: span 4;
      background: rgba(255,255,255,.76);
      border: 2px solid rgba(0,0,0,.12);
      border-radius: var(--r-xl);
      box-shadow: var(--shadow-soft);
      padding: 14px;
      min-height: 170px;
      position:relative;
      overflow:hidden;
    }
    .proj .st{
      display:inline-flex; align-items:center; gap:8px;
      font-size: 11px;
      font-weight: 900;
      padding: 7px 10px;
      border-radius:999px;
      border:1.6px solid rgba(0,0,0,.12);
      background:#fff;
    }
    .proj h4{
      margin: 10px 0 0;
      font-size: 15px;
      font-weight: 900;
    }
    .proj p{
      margin: 8px 0 0;
      font-size: 13px;
      opacity:.80;
      line-height:1.45;
    }

    /* Process steps */
    .steps{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
    }
    .step{
      grid-column: span 4;
      background: rgba(255,255,255,.76);
      border: 2px solid rgba(0,0,0,.12);
      border-radius: var(--r-xl);
      box-shadow: var(--shadow-soft);
      padding: 16px;
      position:relative;
      overflow:hidden;
    }
    .step b{
      font-family:"Bebas Neue", sans-serif;
      font-size: 34px;
      letter-spacing:.7px;
      color: var(--burgundy);
      display:block;
      line-height:1;
    }
    .step h4{ margin: 6px 0 0; font-size: 15px; font-weight: 900; }
    .step p{ margin: 8px 0 0; font-size: 13px; opacity:.82; line-height:1.45; }

    /* About */
    .aboutCard{
      background: rgba(255,255,255,.76);
      border: 2px solid rgba(0,0,0,.12);
      border-radius: var(--r-xl);
      box-shadow: var(--shadow-soft);
      padding: 16px;
      display:grid;
      gap: 12px;
    }
    .team{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
    }
    .person{
      grid-column: span 3;
      border-radius: 22px;
      border: 2px solid rgba(0,0,0,.12);
      background: #fff;
      box-shadow: 0 14px 22px rgba(0,0,0,.08);
      padding: 12px;
      display:grid;
      gap: 8px;
    }
    .avatar{
      width: 56px; height: 56px;
      border-radius: 18px;
      background: var(--mint-2);
      border: 1.6px solid rgba(0,0,0,.10);
      display:grid; place-items:center;
      font-weight: 900;
      color: var(--burgundy);
      font-size: 18px;
    }
    .person b{ font-size: 13px; }
    .person span{ font-size: 12px; opacity:.72; }

    /* Footer */
    footer{
      padding: 36px 0 60px;
      border-top: 1px solid rgba(0,0,0,.08);
      background: rgba(255,255,255,.2);
    }
    .foot{
      display:flex; justify-content:space-between; gap: 12px;
      flex-wrap: wrap;
      align-items:flex-end;
    }
    .foot small{ opacity:.75; line-height:1.4; }

    /* Mini-map (desktop) */
    .minimap{
      position: fixed;
      left: 14px;
      top: 50%;
      transform: translateY(-50%);
      z-index: 60;
      display:none;
    }
    .minimap .rail{
      display:flex;
      flex-direction:column;
      gap: 8px;
      padding: 10px 10px;
      border-radius: 999px;
      border: 1.6px solid rgba(0,0,0,.12);
      background: rgba(255,255,255,.78);
      box-shadow: 0 14px 22px rgba(0,0,0,.10);
      backdrop-filter: blur(10px);
    }
    .dotNav{
      width: 10px; height: 10px; border-radius:50%;
      border:1.6px solid rgba(0,0,0,.35);
      background: transparent;
      cursor:pointer;
      opacity:.65;
    }
    .dotNav[data-active="true"]{
      background: var(--burgundy);
      opacity:1;
    }

    /* Bottom nav pill (mobile) */
    .mobPill{
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: 14px;
      z-index: 70;
      display:none;
      border-radius:999px;
      border: 1.6px solid rgba(0,0,0,.12);
      background: rgba(255,255,255,.86);
      box-shadow: 0 18px 28px rgba(0,0,0,.14);
      backdrop-filter: blur(12px);
      padding: 8px 10px;
      gap: 8px;
      align-items:center;
    }
    .mobPill button{
      border-radius:999px;
      border:1.4px solid rgba(0,0,0,.12);
      background:#fff;
      padding: 8px 10px;
      font-weight: 900;
      cursor:pointer;
    }
    .mobPill .now{
      font-weight: 900;
      font-size: 12px;
      opacity:.75;
      padding: 0 6px;
      white-space:nowrap;
    }

    /* Command palette */
    .palette{
      position: fixed;
      inset: 0;
      z-index: 250;
      display:none;
    }
    .palette[data-open="true"]{ display:block; }
    .palette .bg{
      position:absolute; inset:0;
      background: rgba(0,0,0,.35);
      backdrop-filter: blur(6px);
    }
    .palette .modal{
      position: absolute;
      left: 50%;
      top: 14%;
      transform: translateX(-50%);
      width: min(720px, 92vw);
      background: var(--cream-2);
      border-radius: var(--r-xl);
      border: 2px solid rgba(0,0,0,.12);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .palette .top{
      padding: 14px;
      border-bottom: 1px solid rgba(0,0,0,.10);
      display:flex;
      gap: 10px;
      align-items:center;
      background: rgba(255,255,255,.55);
    }
    .palette input{
      width:100%;
      border-radius: 14px;
      border: 1.6px solid rgba(0,0,0,.12);
      padding: 12px 12px;
      outline:none;
      background:#fff;
      font-weight:700;
    }
    .palette .hint{
      font-size:12px;
      opacity:.65;
      font-weight:800;
      white-space:nowrap;
    }
    .palette .list{
      max-height: 360px;
      overflow:auto;
      padding: 10px;
      display:grid;
      gap: 8px;
    }
    .item{
      padding: 12px 12px;
      border-radius: 16px;
      border: 1.6px solid rgba(0,0,0,.12);
      background: #fff;
      cursor:pointer;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 10px;
      font-weight:900;
    }
    .item small{ opacity:.65; font-weight:900; }
    .item:hover{ transform: translateY(-1px); }

    /* Responsiveness */
    @media (max-width: 980px){
      .heroGrid{ grid-template-columns: 1fr; }
      .navlinks{ display:none; }
      .minimap{ display:none !important; }
      .brand{ min-width:auto; }
      .nav-actions{ min-width:auto; }
      .split{ grid-template-columns: 1fr; }
      .proj{ grid-column: span 6; }
      .step{ grid-column: span 6; }
      .person{ grid-column: span 4; }
    }
    @media (max-width: 640px){
      .proj{ grid-column: span 12; }
      .block{ grid-column: span 12; }
      .step{ grid-column: span 12; }
      .person{ grid-column: span 6; }
      .mobPill{ display:flex; }
      .menuBtn{ padding: 8px 12px; }
      .sticker{ display:none; } /* keep clean on small screens */
      .scribble{ display:none; }
    }
    @media (min-width: 981px){
      .minimap{ display:block; }
    }
  </style>
</head>

<body>
  <div class="paper"></div>
  <div class="grain"></div>
  <div class="progress" id="progress"></div>

  <!-- Desktop minimap -->
  <nav class="minimap" aria-label="Minimap">
    <div class="rail" id="minimapRail"></div>
  </nav>

  <!-- Mobile pill -->
  <div class="mobPill" id="mobPill" aria-label="Quick nav">
    <button id="mobPrev" type="button">↑</button>
    <div class="now" id="mobNow">ActivEU</div>
    <button id="mobNext" type="button">↓</button>
  </div>

  <!-- Mobile drawer -->
  <div class="drawer" id="drawer" data-open="false" aria-hidden="true">
    <div class="backdrop" id="drawerBg"></div>
    <div class="panel" role="dialog" aria-modal="true" aria-label="Menu">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;">
        <h3 data-i18n="menu_title">Menu</h3>
        <button class="pill" id="closeDrawer" type="button" aria-label="Fechar">✕</button>
      </div>
      <a href="#why" class="drawerLink"><span>01</span> <span data-i18n="nav_why">Porque funciona</span></a>
      <a href="#what" class="drawerLink"><span>02</span> <span data-i18n="nav_what">O que fazemos</span></a>
      <a href="#projects" class="drawerLink"><span>03</span> <span data-i18n="nav_projects">Projetos</span></a>
      <a href="#process" class="drawerLink"><span>04</span> <span data-i18n="nav_process">Processo</span></a>
      <a href="#youthreach" class="drawerLink"><span>05</span> <span data-i18n="nav_youthreach">YouthReach</span></a>
      <a href="#about" class="drawerLink"><span>06</span> <span data-i18n="nav_about">Sobre</span></a>

      <div style="margin-top:auto; display:grid; gap:10px;">
        <button class="pill" id="openPalette2" type="button">
          <span data-i18n="cmd_open">Abrir pesquisa</span>
          <span class="kbd">Ctrl K</span>
        </button>
        <button class="langBtn" id="langBtn2" type="button" aria-label="Language">
          PT / EN
        </button>
      </div>
    </div>
  </div>

  <!-- Command palette -->
  <div class="palette" id="palette" data-open="false" aria-hidden="true">
    <div class="bg" id="paletteBg"></div>
    <div class="modal" role="dialog" aria-modal="true" aria-label="Pesquisa">
      <div class="top">
        <input id="paletteInput" type="text" autocomplete="off" placeholder="Pesquisar… (ex.: processo, projetos, YouthReach)" />
        <div class="hint">Esc</div>
      </div>
      <div class="list" id="paletteList"></div>
    </div>
  </div>

  <header>
    <div class="wrap">
      <div class="nav">
        <div class="brand">
          <div>
            <div class="brand-badge" aria-label="ActivEU">
              <span class="brand-dot"></span>
              <span>ActivEU</span>
            </div>
            <small data-i18n="brand_sub">Solidarity Action Day em Portugal</small>
          </div>
        </div>

        <nav class="navlinks" aria-label="Primary">
          <a href="#why" class="navlink" data-id="why" data-i18n="nav_why">Porque funciona</a>
          <a href="#what" class="navlink" data-id="what" data-i18n="nav_what">O que fazemos</a>
          <a href="#projects" class="navlink" data-id="projects" data-i18n="nav_projects">Projetos</a>
          <a href="#process" class="navlink" data-id="process" data-i18n="nav_process">Processo</a>
          <a href="#youthreach" class="navlink" data-id="youthreach" data-i18n="nav_youthreach">YouthReach</a>
          <a href="#about" class="navlink" data-id="about" data-i18n="nav_about">Sobre</a>
        </nav>

        <div class="nav-actions">
          <button class="pill" id="openPalette" type="button" aria-label="Pesquisar">
            <span data-i18n="cmd_open">Abrir pesquisa</span>
            <span class="kbd">Ctrl K</span>
          </button>
          <button class="langBtn" id="langBtn" type="button" aria-label="Language toggle">PT / EN</button>
          <button class="menuBtn" id="menuBtn" type="button" aria-label="Menu">MENU</button>
        </div>
      </div>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero" id="top" data-title="ActivEU">
      <div class="wrap">
        <!-- Stickers (desktop) -->
        <div class="sticker" style="left:22px; top:34px" data-tone="mint">
          <span class="dot"></span><span data-i18n="stk_young">Jovem</span>
        </div>
        <div class="sticker" style="left:170px; top:114px" data-tone="sun">
          <span class="dot" style="background:var(--sun)"></span><span data-i18n="stk_solidarity">Solidária</span>
        </div>
        <div class="sticker" style="right:220px; top:48px" data-tone="lav">
          <span class="dot" style="background:var(--lav)"></span><span data-i18n="stk_european">Europeia</span>
        </div>
        <div class="sticker" style="right:52px; top:134px" data-tone="sky">
          <span class="dot" style="background:var(--sky)"></span><span data-i18n="stk_creative">Criativa</span>
        </div>

        <!-- Scribbles (desktop) -->
        <svg class="scribble" style="left:-10px; top:2px;" viewBox="0 0 220 120" aria-hidden="true">
          <path d="M12 98 C38 60, 58 78, 82 48 C108 16, 136 28, 164 14 C184 4, 198 8, 210 16"
                fill="none" stroke="rgba(0,0,0,.75)" stroke-width="2.2" stroke-linecap="round"/>
          <path d="M198 18 l12 -2 l-6 10" fill="none" stroke="rgba(0,0,0,.75)" stroke-width="2.2" stroke-linecap="round"/>
        </svg>

        <div class="heroGrid">
          <div>
            <div class="bigWord">ACTIVEU</div>

            <div class="subLine">
              <div class="tagline" data-i18n="hero_tagline">
                O teu dia. A tua ação. O teu impacto.
              </div>
              <div class="micro" data-i18n="hero_micro">
                Trocas aulas por experiência real em contexto profissional, apoias uma causa verificada e ganhas competências certificadas.
              </div>
            </div>

            <div class="ctaRow">
              <a class="cta" href="#process" data-i18n="cta_join">Junta-te ao movimento</a>
              <a class="cta secondary" href="#what" data-i18n="cta_learn">Ver como funciona</a>
            </div>
          </div>

          <aside class="heroCard" aria-label="Resumo ActivEU">
            <div class="rings" aria-hidden="true"></div>
            <div class="content">
              <h2 data-i18n="hero_card_title">ActivEU Connect</h2>
              <p data-i18n="hero_card_body">
                A plataforma que implementa o Solidarity Action Day em Portugal com tecnologia, transparência e meritocracia.
              </p>
              <div class="heroStats">
                <div class="stat">
                  <b>1</b>
                  <span data-i18n="stat_day">dia = experiência real</span>
                </div>
                <div class="stat">
                  <b>0</b>
                  <span data-i18n="stat_bias">viés (sem foto/nome)</span>
                </div>
                <div class="stat">
                  <b>100%</b>
                  <span data-i18n="stat_transparency">doação transparente</span>
                </div>
                <div class="stat">
                  <b>✓</b>
                  <span data-i18n="stat_cert">certificação & impacto</span>
                </div>
              </div>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <!-- WHY (7 blocks) -->
    <section id="why" data-title="Porque funciona" style="background: var(--cream);">
      <div class="ringsBg" aria-hidden="true"></div>
      <div class="scallopTop" aria-hidden="true"></div>
      <div class="scallopBottom" aria-hidden="true"></div>

      <div class="wrap">
        <div class="head">
          <div>
            <div class="kicker"><i></i> <span data-i18n="why_kicker">Uma ideia simples. Um impacto gigantesco.</span></div>
            <h2 class="sectionTitle" data-i18n="why_title">Porque funciona</h2>
            <p class="lead" data-i18n="why_lead">
              O SAD cria valor simultâneo para jovens, empresas e causas. O desenho é intencional: rigor, utilidade e confiança.
            </p>
          </div>
        </div>

        <div class="grid7">
          <article class="block">
            <div class="badge">01</div>
            <h3 data-i18n="why_1_t">Jovens que transformam o seu futuro (e o dos outros)</h3>
            <p data-i18n="why_1_p">Vives um dia em contexto profissional, descobres o que gostas, ganhas experiência e tomas decisões mais conscientes. E fazes a diferença.</p>
          </article>

          <article class="block">
            <div class="badge">02</div>
            <h3 data-i18n="why_2_t">Empresas que descobrem talento com propósito</h3>
            <p data-i18n="why_2_p">Acolhem jovens motivados, testam compatibilidade, fortalecem reputação social e descobrem futuros colaboradores, sem ruído nem falsas promessas.</p>
          </article>

          <article class="block">
            <div class="badge">03</div>
            <h3 data-i18n="why_3_t">Causas que continuam o seu trabalho essencial</h3>
            <p data-i18n="why_3_p">O valor angariado é doado a causas verificadas, com transparência. Menos fricção, mais continuidade e confiança pública.</p>
          </article>

          <article class="block">
            <div class="badge">04</div>
            <h3 data-i18n="why_4_t">Educação com sentido (fora da sala)</h3>
            <p data-i18n="why_4_p">Aprendizagem não formal, competências reais, responsabilidade cívica. O SAD não compete com a educação, amplia-a.</p>
          </article>

          <article class="block">
            <div class="badge">05</div>
            <h3 data-i18n="why_5_t">Meritocracia justa (sem enviesamentos óbvios)</h3>
            <p data-i18n="why_5_p">O matching é pensado para reduzir preconceitos: sem foto, sem nome, sem idade. O foco é compatibilidade e mérito.</p>
          </article>

          <article class="block">
            <div class="badge">06</div>
            <h3 data-i18n="why_6_t">Transparência como regra, não como marketing</h3>
            <p data-i18n="why_6_p">Doações rastreáveis, recibos, relatórios de impacto. A confiança é um mecanismo do sistema, não uma esperança.</p>
          </article>

          <article class="block" style="grid-column: span 12;">
            <div class="badge">07</div>
            <h3 data-i18n="why_7_t">Escala com integridade</h3>
            <p data-i18n="why_7_p">Um modelo desenhado para crescer sem perder qualidade: verificação prévia, regras claras, incentivos corretos e avaliação contínua.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- WHAT (accordion + explanation) -->
    <section id="what" data-title="O que fazemos" style="background: var(--cream);">
      <div class="wrap">
        <div class="head">
          <div>
            <div class="kicker"><i></i> <span data-i18n="what_kicker">Tecnologia, inovação, solidariedade, educação.</span></div>
            <h2 class="sectionTitle" data-i18n="what_title">O que fazemos (e fazemos com impacto)</h2>
            <p class="lead" data-i18n="what_lead">
              Construímos uma infraestrutura de participação: simples no uso, robusta por dentro.
            </p>
          </div>
        </div>

        <div class="split">
          <div class="accordion" id="accordion">
            <details open data-key="connect">
              <summary>
                <div class="sumLeft">
                  <div class="chip">A</div>
                  <div>
                    <div data-i18n="what_1_t">ActivEU Connect: Solidarity Action Day em Portugal</div>
                    <div class="sumMeta" data-i18n="what_1_m">Plataforma • Matching • Doação • Certificação</div>
                  </div>
                </div>
                <div class="caret"></div>
              </summary>
              <div class="panel">
                <div class="labels">
                  <span class="label" data-i18n="lbl_structured">Voluntariado Estruturado</span>
                  <span class="label" data-i18n="lbl_cert">Certificação e Impacto</span>
                  <span class="label" data-i18n="lbl_transparent">Doações Transparentes</span>
                  <span class="label" data-i18n="lbl_partners">Parcerias Educativas</span>
                </div>
                <div style="font-size:13px;opacity:.82;line-height:1.5" data-i18n="what_1_p">
                  A ActivEU Connect implementa o modelo europeu Solidarity Action Day em Portugal. Jovens ganham experiência real em ambiente profissional; empresas acolhem; e o valor reverte para causas verificadas.
                </div>
              </div>
            </details>

            <details data-key="sad">
              <summary>
                <div class="sumLeft">
                  <div class="chip">B</div>
                  <div>
                    <div data-i18n="what_2_t">SAD Permanente e SAD Anual</div>
                    <div class="sumMeta" data-i18n="what_2_m">Doação sugerida • Reputação • Escala</div>
                  </div>
                </div>
                <div class="caret"></div>
              </summary>
              <div class="panel">
                <div class="labels">
                  <span class="label" data-i18n="lbl_permanent">Permanente</span>
                  <span class="label" data-i18n="lbl_annual">Anual</span>
                  <span class="label" data-i18n="lbl_incentives">Incentivos Reputacionais</span>
                </div>
                <div style="font-size:13px;opacity:.82;line-height:1.5" data-i18n="what_2_p">
                  No SAD Permanente existe uma contribuição sugerida por dia para fortalecer impacto e sustentabilidade. No SAD Anual a participação pode ser gratuita e a doação opcional, mas incentivada.
                </div>
              </div>
            </details>

            <details data-key="community">
              <summary>
                <div class="sumLeft">
                  <div class="chip">C</div>
                  <div>
                    <div data-i18n="what_3_t">Projetos comunitários complementares</div>
                    <div class="sumMeta" data-i18n="what_3_m">Inclusão • Intergeracionalidade • Cultura</div>
                  </div>
                </div>
                <div class="caret"></div>
              </summary>
              <div class="panel">
                <div class="labels">
                  <span class="label">Raízes & Risos</span>
                  <span class="label">Tradições em Páginas</span>
                  <span class="label" data-i18n="lbl_access">Acessibilidade</span>
                </div>
                <div style="font-size:13px;opacity:.82;line-height:1.5" data-i18n="what_3_p">
                  Mini-festivais intergeracionais e recolha de histórias/jogos tradicionais para livro/documentário. Coesão social com desenho acessível.
                </div>
              </div>
            </details>

            <details data-key="youthreach">
              <summary>
                <div class="sumLeft">
                  <div class="chip">D</div>
                  <div>
                    <div data-i18n="what_4_t">YouthReach & Creative Support</div>
                    <div class="sumMeta" data-i18n="what_4_m">Diagnóstico • Participação • Comunicação</div>
                  </div>
                </div>
                <div class="caret"></div>
              </summary>
              <div class="panel">
                <div class="labels">
                  <span class="label" data-i18n="lbl_diagnosis">Diagnóstico Jovem</span>
                  <span class="label" data-i18n="lbl_cocreation">Co-criação</span>
                  <span class="label" data-i18n="lbl_content">Conteúdo</span>
                </div>
                <div style="font-size:13px;opacity:.82;line-height:1.5" data-i18n="what_4_p">
                  Apoiamos municípios, escolas, empresas e organizações a compreender e envolver jovens em políticas, serviços e decisões. Com método, formação e comunicação adaptada.
                </div>
              </div>
            </details>
          </div>

          <aside class="explain" aria-label="Explicação dinâmica">
            <div class="ringsMini" aria-hidden="true"></div>
            <div class="box">
              <h3 id="exTitle" data-i18n="exp_title">ActivEU Connect</h3>
              <p id="exText" data-i18n="exp_text">
                Um sistema completo: registo rápido, validação, matching justo, experiência, doação rastreável, avaliação e relatório de impacto.
              </p>

              <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:6px;">
                <a class="cta secondary" href="#process" data-i18n="exp_cta">Ver o processo</a>
                <button class="cta" type="button" id="openPalette3" data-i18n="exp_search">Pesquisar no site</button>
              </div>

              <div style="margin-top:8px;font-size:12px;opacity:.7;line-height:1.45" data-i18n="exp_note">
                Dica: carrega Ctrl/⌘ + K para abrir a command palette e saltar para qualquer secção.
              </div>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <!-- PROJECTS -->
    <section id="projects" data-title="Projetos" style="background: var(--cream);">
      <div class="ringsBg" aria-hidden="true"></div>
      <div class="scallopTop" aria-hidden="true"></div>
      <div class="scallopBottom" aria-hidden="true"></div>

      <div class="wrap">
        <div class="head">
          <div>
            <div class="kicker"><i></i> <span data-i18n="proj_kicker">Portefólio</span></div>
            <h2 class="sectionTitle" data-i18n="proj_title">Os nossos projetos</h2>
            <p class="lead" data-i18n="proj_lead">Estruturados para escalar, desenhados para criar confiança.</p>
          </div>
        </div>

        <div class="projGrid">
          <article class="proj">
            <div class="st">ActivEU Connect</div>
            <h4 data-i18n="proj_1_t">A plataforma</h4>
            <p data-i18n="proj_1_p">Matching meritocrático, verificação, recibos, relatórios de impacto e certificação.</p>
          </article>
          <article class="proj">
            <div class="st">SAD</div>
            <h4 data-i18n="proj_2_t">Solidarity Action Day</h4>
            <p data-i18n="proj_2_p">Um dia que muda duas coisas ao mesmo tempo: o teu percurso e a vida de alguém.</p>
          </article>
          <article class="proj">
            <div class="st">YouthReach</div>
            <h4 data-i18n="proj_3_t">Apoio a entidades</h4>
            <p data-i18n="proj_3_p">Diagnóstico jovem, processos participativos, formação interna e comunicação adaptada.</p>
          </article>
        </div>

        <div style="margin-top:14px;font-size:12px;opacity:.72" data-i18n="proj_note">
          Nota: esta secção está preparada para receber mais cards à medida que fores adicionando projetos.
        </div>
      </div>
    </section>

    <!-- PROCESS -->
    <section id="process" data-title="Processo" style="background: var(--cream);">
      <div class="wrap">
        <div class="head">
          <div>
            <div class="kicker"><i></i> <span data-i18n="proc_kicker">ActivEU Connect</span></div>
            <h2 class="sectionTitle" data-i18n="proc_title">Processo</h2>
            <p class="lead" data-i18n="proc_lead">
              Registo rápido. Verificação simples. Matching justo. Experiência real. Impacto comprovável.
            </p>
          </div>
        </div>

        <div class="steps">
          <article class="step">
            <b>01</b>
            <h4 data-i18n="p1_t">Regista-te</h4>
            <p data-i18n="p1_p">Em menos de dois minutos. Carregas uma prova académica simples. A plataforma valida e ativa o teu perfil com segurança.</p>
          </article>
          <article class="step">
            <b>02</b>
            <h4 data-i18n="p2_t">Candidata-te e destaca-te</h4>
            <p data-i18n="p2_p">Exploras oportunidades e candidatas-te. O algoritmo analisa compatibilidade de forma meritocrática (sem foto, sem nome, sem idade).</p>
          </article>
          <article class="step">
            <b>03</b>
            <h4 data-i18n="p3_t">Participa e cria valor real</h4>
            <p data-i18n="p3_p">Ganhas experiência prática e contribuis para a causa que escolheste. No fim, tens certificação e impacto mensurável.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- YOUTHREACH -->
    <section id="youthreach" data-title="YouthReach" style="background: var(--cream);">
      <div class="ringsBg" aria-hidden="true"></div>
      <div class="scallopTop" aria-hidden="true"></div>
      <div class="scallopBottom" aria-hidden="true"></div>

      <div class="wrap">
        <div class="head">
          <div>
            <div class="kicker"><i></i> <span>ActivEU YouthReach & Creative Support</span></div>
            <h2 class="sectionTitle" data-i18n="yr_title">Ajudamos entidades a chegar aos jovens</h2>
            <p class="lead" data-i18n="yr_lead">
              Diagnóstico rigoroso, processos participativos estruturados, formação interna e comunicação institucional adaptada às novas gerações.
            </p>
          </div>
        </div>

        <div class="aboutCard">
          <div style="display:grid;gap:10px;font-size:13px;opacity:.84;line-height:1.6" data-i18n="yr_body">
            <div>• Diagnóstico Jovem local e organizacional</div>
            <div>• Metodologias participativas para cocriar políticas e soluções</div>
            <div>• Workshops e sessões de co-criação</div>
            <div>• Formação interna: como trabalhar com jovens, comunicar melhor e implementar participação contínua</div>
            <div>• Orientação em narrativas e comunicação institucional jovem</div>
            <div>• Apoio técnico em produção audiovisual estratégica</div>
            <div>• Recomendações práticas e aplicáveis para reforçar programas, serviços e decisões</div>
          </div>
          <div style="display:flex;gap:10px;flex-wrap:wrap;">
            <a class="cta" href="#about" data-i18n="yr_cta">Falar connosco</a>
            <button class="cta secondary" type="button" id="openPalette4" data-i18n="yr_cta2">Ver tudo (pesquisa)</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" data-title="Sobre" style="background: var(--cream);">
      <div class="wrap">
        <div class="head">
          <div>
            <div class="kicker"><i></i> <span data-i18n="about_kicker">Sobre nós</span></div>
            <h2 class="sectionTitle" data-i18n="about_title">Uma associação jovem com desenho europeu</h2>
            <p class="lead" data-i18n="about_lead">
              Acreditamos numa coisa simples: os jovens merecem mais oportunidades, mais voz e mais futuro em Portugal.
            </p>
          </div>
        </div>

        <div class="aboutCard">
          <div style="font-size:13px;opacity:.84;line-height:1.6" data-i18n="about_body">
            A ActivEU promove voluntariado jovem estruturado, educação não formal e iniciativas de impacto social. Unimos juventude, setor público, privado e sociedade civil com integridade, transparência e ambição de escala.
          </div>

          <div class="team" aria-label="Equipa (placeholders)">
            <div class="person">
              <div class="avatar">A</div>
              <b data-i18n="t1_n">Equipa ActivEU</b>
              <span data-i18n="t1_r">Coordenação</span>
            </div>
            <div class="person">
              <div class="avatar">C</div>
              <b data-i18n="t2_n">Creative Support</b>
              <span data-i18n="t2_r">Multimédia</span>
            </div>
            <div class="person">
              <div class="avatar">Y</div>
              <b data-i18n="t3_n">YouthReach</b>
              <span data-i18n="t3_r">Participação jovem</span>
            </div>
            <div class="person">
              <div class="avatar">D</div>
              <b data-i18n="t4_n">Connect</b>
              <span data-i18n="t4_r">Produto & Operações</span>
            </div>
          </div>

          <div class="kicker" style="justify-self:start;">
            <i></i>
            <span data-i18n="about_join">Temos lugar para ti!</span>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div class="wrap">
        <div class="foot">
          <div>
            <div class="brand-badge" style="display:inline-flex;">
              <span class="brand-dot"></span><span>ActivEU</span>
            </div>
            <small style="display:block;margin-top:10px;" data-i18n="foot_1">
              Associação jovem solidária europeia. Transparência, impacto e ambição de escala.
            </small>
          </div>
          <small data-i18n="foot_2">
            © <span id="year"></span> ActivEU. <br>
            Ctrl/⌘ + K para navegar como se estivesses em 2046.
          </small>
        </div>
      </div>
    </footer>
  </main>

  <script>
    // ---------- i18n ----------
    const I18N = {
      pt: {
        brand_sub: "Solidarity Action Day em Portugal",
        menu_title: "Menu",
        nav_why: "Porque funciona",
        nav_what: "O que fazemos",
        nav_projects: "Projetos",
        nav_process: "Processo",
        nav_youthreach: "YouthReach",
        nav_about: "Sobre",
        cmd_open: "Abrir pesquisa",

        stk_young: "Jovem",
        stk_solidarity: "Solidária",
        stk_european: "Europeia",
        stk_creative: "Criativa",

        hero_tagline: "O teu dia. A tua ação. O teu impacto.",
        hero_micro: "Trocas aulas por experiência real em contexto profissional, apoias uma causa verificada e ganhas competências certificadas.",
        cta_join: "Junta-te ao movimento",
        cta_learn: "Ver como funciona",

        hero_card_title: "ActivEU Connect",
        hero_card_body: "A plataforma que implementa o Solidarity Action Day em Portugal com tecnologia, transparência e meritocracia.",
        stat_day: "dia = experiência real",
        stat_bias: "viés (sem foto/nome)",
        stat_transparency: "doação transparente",
        stat_cert: "certificação & impacto",

        why_kicker: "Uma ideia simples. Um impacto gigantesco.",
        why_title: "Porque funciona",
        why_lead: "O SAD cria valor simultâneo para jovens, empresas e causas. O desenho é intencional: rigor, utilidade e confiança.",

        why_1_t: "Jovens que transformam o seu futuro (e o dos outros)",
        why_1_p: "Vives um dia em contexto profissional, descobres o que gostas, ganhas experiência e tomas decisões mais conscientes. E fazes a diferença.",
        why_2_t: "Empresas que descobrem talento com propósito",
        why_2_p: "Acolhem jovens motivados, testam compatibilidade, fortalecem reputação social e descobrem futuros colaboradores, sem ruído nem falsas promessas.",
        why_3_t: "Causas que continuam o seu trabalho essencial",
        why_3_p: "O valor angariado é doado a causas verificadas, com transparência. Menos fricção, mais continuidade e confiança pública.",
        why_4_t: "Educação com sentido (fora da sala)",
        why_4_p: "Aprendizagem não formal, competências reais, responsabilidade cívica. O SAD não compete com a educação, amplia-a.",
        why_5_t: "Meritocracia justa (sem enviesamentos óbvios)",
        why_5_p: "O matching é pensado para reduzir preconceitos: sem foto, sem nome, sem idade. O foco é compatibilidade e mérito.",
        why_6_t: "Transparência como regra, não como marketing",
        why_6_p: "Doações rastreáveis, recibos, relatórios de impacto. A confiança é um mecanismo do sistema, não uma esperança.",
        why_7_t: "Escala com integridade",
        why_7_p: "Um modelo desenhado para crescer sem perder qualidade: verificação prévia, regras claras, incentivos corretos e avaliação contínua.",

        what_kicker: "Tecnologia, inovação, solidariedade, educação.",
        what_title: "O que fazemos (e fazemos com impacto)",
        what_lead: "Construímos uma infraestrutura de participação: simples no uso, robusta por dentro.",

        what_1_t: "ActivEU Connect: Solidarity Action Day em Portugal",
        what_1_m: "Plataforma • Matching • Doação • Certificação",
        lbl_structured: "Voluntariado Estruturado",
        lbl_cert: "Certificação e Impacto",
        lbl_transparent: "Doações Transparentes",
        lbl_partners: "Parcerias Educativas",
        what_1_p: "A ActivEU Connect implementa o modelo europeu Solidarity Action Day em Portugal. Jovens ganham experiência real em ambiente profissional; empresas acolhem; e o valor reverte para causas verificadas.",

        what_2_t: "SAD Permanente e SAD Anual",
        what_2_m: "Doação sugerida • Reputação • Escala",
        lbl_permanent: "Permanente",
        lbl_annual: "Anual",
        lbl_incentives: "Incentivos Reputacionais",
        what_2_p: "No SAD Permanente existe uma contribuição sugerida por dia para fortalecer impacto e sustentabilidade. No SAD Anual a participação pode ser gratuita e a doação opcional, mas incentivada.",

        what_3_t: "Projetos comunitários complementares",
        what_3_m: "Inclusão • Intergeracionalidade • Cultura",
        lbl_access: "Acessibilidade",
        what_3_p: "Mini-festivais intergeracionais e recolha de histórias/jogos tradicionais para livro/documentário. Coesão social com desenho acessível.",

        what_4_t: "YouthReach & Creative Support",
        what_4_m: "Diagnóstico • Participação • Comunicação",
        lbl_diagnosis: "Diagnóstico Jovem",
        lbl_cocreation: "Co-criação",
        lbl_content: "Conteúdo",
        what_4_p: "Apoiamos municípios, escolas, empresas e organizações a compreender e envolver jovens em políticas, serviços e decisões. Com método, formação e comunicação adaptada.",

        exp_title: "ActivEU Connect",
        exp_text: "Um sistema completo: registo rápido, validação, matching justo, experiência, doação rastreável, avaliação e relatório de impacto.",
        exp_cta: "Ver o processo",
        exp_search: "Pesquisar no site",
        exp_note: "Dica: carrega Ctrl/⌘ + K para abrir a command palette e saltar para qualquer secção.",

        proj_kicker: "Portefólio",
        proj_title: "Os nossos projetos",
        proj_lead: "Estruturados para escalar, desenhados para criar confiança.",
        proj_1_t: "A plataforma",
        proj_1_p: "Matching meritocrático, verificação, recibos, relatórios de impacto e certificação.",
        proj_2_t: "Solidarity Action Day",
        proj_2_p: "Um dia que muda duas coisas ao mesmo tempo: o teu percurso e a vida de alguém.",
        proj_3_t: "Apoio a entidades",
        proj_3_p: "Diagnóstico jovem, processos participativos, formação interna e comunicação adaptada.",
        proj_note: "Nota: esta secção está preparada para receber mais cards à medida que fores adicionando projetos.",

        proc_kicker: "ActivEU Connect",
        proc_title: "Processo",
        proc_lead: "Registo rápido. Verificação simples. Matching justo. Experiência real. Impacto comprovável.",
        p1_t: "Regista-te",
        p1_p: "Em menos de dois minutos. Carregas uma prova académica simples. A plataforma valida e ativa o teu perfil com segurança.",
        p2_t: "Candidata-te e destaca-te",
        p2_p: "Exploras oportunidades e candidatas-te. O algoritmo analisa compatibilidade de forma meritocrática (sem foto, sem nome, sem idade).",
        p3_t: "Participa e cria valor real",
        p3_p: "Ganhas experiência prática e contribuis para a causa que escolheste. No fim, tens certificação e impacto mensurável.",

        yr_title: "Ajudamos entidades a chegar aos jovens",
        yr_lead: "Diagnóstico rigoroso, processos participativos estruturados, formação interna e comunicação institucional adaptada às novas gerações.",
        yr_body:
          "• Diagnóstico Jovem local e organizacional\n" +
          "• Metodologias participativas para cocriar políticas e soluções\n" +
          "• Workshops e sessões de co-criação\n" +
          "• Formação interna: como trabalhar com jovens, comunicar melhor e implementar participação contínua\n" +
          "• Orientação em narrativas e comunicação institucional jovem\n" +
          "• Apoio técnico em produção audiovisual estratégica\n" +
          "• Recomendações práticas e aplicáveis para reforçar programas, serviços e decisões",
        yr_cta: "Falar connosco",
        yr_cta2: "Ver tudo (pesquisa)",

        about_kicker: "Sobre nós",
        about_title: "Uma associação jovem com desenho europeu",
        about_lead: "Acreditamos numa coisa simples: os jovens merecem mais oportunidades, mais voz e mais futuro em Portugal.",
        about_body: "A ActivEU promove voluntariado jovem estruturado, educação não formal e iniciativas de impacto social. Unimos juventude, setor público, privado e sociedade civil com integridade, transparência e ambição de escala.",
        t1_n: "Equipa ActivEU",
        t1_r: "Coordenação",
        t2_n: "Creative Support",
        t2_r: "Multimédia",
        t3_n: "YouthReach",
        t3_r: "Participação jovem",
        t4_n: "Connect",
        t4_r: "Produto & Operações",
        about_join: "Temos lugar para ti!",

        foot_1: "Associação jovem solidária europeia. Transparência, impacto e ambição de escala.",
        foot_2: "© {year} ActivEU.\nCtrl/⌘ + K para navegar como se estivesses em 2046."
      },

      en: {
        brand_sub: "Solidarity Action Day in Portugal",
        menu_title: "Menu",
        nav_why: "Why it works",
        nav_what: "What we do",
        nav_projects: "Projects",
        nav_process: "Process",
        nav_youthreach: "YouthReach",
        nav_about: "About",
        cmd_open: "Open search",

        stk_young: "Youth-led",
        stk_solidarity: "Solidarity",
        stk_european: "European",
        stk_creative: "Creative",

        hero_tagline: "Your day. Your action. Your impact.",
        hero_micro: "Swap classes for real-world experience, support a verified cause, and leave with certified skills.",
        cta_join: "Join the movement",
        cta_learn: "See how it works",

        hero_card_title: "ActivEU Connect",
        hero_card_body: "The platform bringing Solidarity Action Day to Portugal with technology, transparency and merit-based matching.",
        stat_day: "day = real experience",
        stat_bias: "bias (no photo/name)",
        stat_transparency: "transparent donation",
        stat_cert: "certification & impact",

        why_kicker: "A simple idea. A massive impact.",
        why_title: "Why it works",
        why_lead: "SAD creates value for youth, companies and causes at once. The design is intentional: rigor, usefulness and trust.",

        why_1_t: "Young people who shape their future (and someone else's)",
        why_1_p: "One day in a professional setting: discover what you like, gain experience, make better choices, and do real good.",
        why_2_t: "Companies that discover purpose-driven talent",
        why_2_p: "Host motivated youth, test fit, strengthen social reputation, and spot future collaborators with clarity.",
        why_3_t: "Causes that keep doing essential work",
        why_3_p: "Funds go to verified causes with transparency. Less friction, more continuity and public trust.",
        why_4_t: "Education with meaning (outside the classroom)",
        why_4_p: "Non-formal learning, real skills, civic responsibility. SAD expands education rather than competing with it.",
        why_5_t: "Fair merit-based matching (less obvious bias)",
        why_5_p: "Designed to reduce prejudice: no photo, no name, no age. Focus on compatibility and merit.",
        why_6_t: "Transparency as a rule, not marketing",
        why_6_p: "Traceable donations, receipts, impact reports. Trust is engineered, not hoped for.",
        why_7_t: "Scale with integrity",
        why_7_p: "Built to grow without losing quality: verification, clear rules, correct incentives and continuous evaluation.",

        what_kicker: "Technology, innovation, solidarity, education.",
        what_title: "What we do (and do it with impact)",
        what_lead: "We build participation infrastructure: simple to use, robust inside.",

        what_1_t: "ActivEU Connect: Solidarity Action Day in Portugal",
        what_1_m: "Platform • Matching • Donation • Certification",
        lbl_structured: "Structured Volunteering",
        lbl_cert: "Certification & Impact",
        lbl_transparent: "Transparent Donations",
        lbl_partners: "Education Partners",
        what_1_p: "ActivEU Connect implements the European Solidarity Action Day model in Portugal: youth gain real experience; companies host; funds go to verified causes.",

        what_2_t: "Ongoing SAD and Annual SAD",
        what_2_m: "Suggested donation • Reputation • Scale",
        lbl_permanent: "Ongoing",
        lbl_annual: "Annual",
        lbl_incentives: "Reputation incentives",
        what_2_p: "Ongoing SAD includes a suggested contribution per day to strengthen impact and sustainability. Annual SAD can be free to join, with optional donations encouraged.",

        what_3_t: "Complementary community projects",
        what_3_m: "Inclusion • Intergenerational • Culture",
        lbl_access: "Accessibility",
        what_3_p: "Intergenerational mini-festivals and a collection of stories/games for a book/documentary. Social cohesion with accessible design.",

        what_4_t: "YouthReach & Creative Support",
        what_4_m: "Diagnosis • Participation • Communication",
        lbl_diagnosis: "Youth Diagnosis",
        lbl_cocreation: "Co-creation",
        lbl_content: "Content",
        what_4_p: "We help municipalities, schools and organizations understand and engage young people in policies, services and decisions through method and training.",

        exp_title: "ActivEU Connect",
        exp_text: "A full system: quick signup, verification, fair matching, real experience, traceable donation, evaluation and impact report.",
        exp_cta: "See the process",
        exp_search: "Search the site",
        exp_note: "Tip: press Ctrl/⌘ + K to open the command palette and jump anywhere.",

        proj_kicker: "Portfolio",
        proj_title: "Our projects",
        proj_lead: "Designed to scale, built to earn trust.",
        proj_1_t: "The platform",
        proj_1_p: "Merit-based matching, verification, receipts, impact reporting and certification.",
        proj_2_t: "Solidarity Action Day",
        proj_2_p: "One day that changes two things at once: your path and someone else's life.",
        proj_3_t: "Support for institutions",
        proj_3_p: "Youth diagnosis, participation processes, internal training and tailored communication.",
        proj_note: "Note: this section is ready to receive more cards as you add projects.",

        proc_kicker: "ActivEU Connect",
        proc_title: "Process",
        proc_lead: "Fast signup. Simple verification. Fair matching. Real experience. Verifiable impact.",
        p1_t: "Sign up",
        p1_p: "Less than two minutes. Upload a simple academic proof. The platform validates and activates your profile securely.",
        p2_t: "Apply and stand out",
        p2_p: "Browse opportunities and apply. The algorithm checks compatibility meritocratically (no photo, no name, no age).",
        p3_t: "Participate and create real value",
        p3_p: "Gain practical experience and support the cause you chose. You leave with certification and measurable impact.",

        yr_title: "We help institutions reach young people",
        yr_lead: "Rigorous diagnosis, structured participation, internal training and communication adapted to new generations.",
        yr_body:
          "• Local and organizational youth diagnosis\n" +
          "• Participation methods to co-create policies and solutions\n" +
          "• Workshops and co-creation sessions\n" +
          "• Internal training: work with youth, communicate better, implement continuous participation\n" +
          "• Narrative and youth-focused institutional communication\n" +
          "• Technical support for strategic audiovisual production\n" +
          "• Practical recommendations to improve programs, services and decisions",
        yr_cta: "Talk to us",
        yr_cta2: "See all (search)",

        about_kicker: "About",
        about_title: "A youth-led association with a European design",
        about_lead: "We believe in a simple thing: young people deserve more opportunities, more voice and more future in Portugal.",
        about_body: "ActivEU promotes structured youth volunteering, non-formal education and social impact initiatives. We connect youth, public and private sectors with integrity, transparency and scalable ambition.",
        t1_n: "ActivEU team",
        t1_r: "Coordination",
        t2_n: "Creative Support",
        t2_r: "Multimedia",
        t3_n: "YouthReach",
        t3_r: "Youth participation",
        t4_n: "Connect",
        t4_r: "Product & Ops",
        about_join: "There’s a place for you!",

        foot_1: "Youth-led European solidarity association. Transparency, impact and scale.",
        foot_2: "© {year} ActivEU.\nCtrl/⌘ + K to navigate like it’s 2046."
      }
    };

    function applyLang(lang){
      document.documentElement.setAttribute("data-lang", lang);
      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const key = el.getAttribute("data-i18n");
        const val = I18N[lang][key];
        if(!val) return;

        // preserve newlines in bullet blocks
        if(String(val).includes("\n")){
          el.innerHTML = String(val).split("\n").map(x=>`<div>${escapeHtml(x)}</div>`).join("");
        }else{
          el.textContent = val;
        }
      });

      // footer year interpolation
      const y = new Date().getFullYear();
      const foot2 = I18N[lang].foot_2.replace("{year}", y);
      const foot2El = document.querySelector('[data-i18n="foot_2"]');
      if(foot2El){
        foot2El.innerHTML = foot2.replace(/\n/g,"<br>");
      }
    }
    function escapeHtml(str){
      return str.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;");
    }

    // ---------- Scroll progress ----------
    const progress = document.getElementById("progress");
    function onScroll(){
      const h = document.documentElement;
      const sc = h.scrollTop || document.body.scrollTop;
      const max = (h.scrollHeight - h.clientHeight) || 1;
      const p = Math.max(0, Math.min(1, sc / max));
      progress.style.width = (p * 100).toFixed(2) + "%";
    }
    window.addEventListener("scroll", onScroll, {passive:true});
    onScroll();

    // ---------- Drawer ----------
    const drawer = document.getElementById("drawer");
    const menuBtn = document.getElementById("menuBtn");
    const closeDrawer = document.getElementById("closeDrawer");
    const drawerBg = document.getElementById("drawerBg");
    const drawerLinks = Array.from(document.querySelectorAll(".drawerLink"));

    function openDrawer(){
      drawer.setAttribute("data-open","true");
      drawer.setAttribute("aria-hidden","false");
    }
    function closeDrawerFn(){
      drawer.setAttribute("data-open","false");
      drawer.setAttribute("aria-hidden","true");
    }
    menuBtn.addEventListener("click", openDrawer);
    closeDrawer.addEventListener("click", closeDrawerFn);
    drawerBg.addEventListener("click", closeDrawerFn);
    drawerLinks.forEach(a=>a.addEventListener("click", ()=>setTimeout(closeDrawerFn, 80)));

    // ---------- Accordion -> dynamic explain panel ----------
    const exTitle = document.getElementById("exTitle");
    const exText  = document.getElementById("exText");

    const explainCopy = {
      connect: {
        pt: ["ActivEU Connect", "Um sistema completo: registo rápido, validação, matching justo, experiência, doação rastreável, avaliação e relatório de impacto."],
        en: ["ActivEU Connect", "A full system: quick signup, verification, fair matching, real experience, traceable donation, evaluation and impact report."]
      },
      sad: {
        pt: ["SAD Permanente / SAD Anual", "Duas formas de escalar impacto: uma modalidade contínua com contribuição sugerida e uma modalidade anual para mobilização ampla."],
        en: ["Ongoing SAD / Annual SAD", "Two ways to scale impact: an ongoing mode with suggested contribution and an annual mode for broad mobilization."]
      },
      community: {
        pt: ["Projetos comunitários", "Coesão social com desenho acessível: intergeracionalidade, cultura e inclusão, com impacto local real."],
        en: ["Community projects", "Social cohesion with accessible design: intergenerational culture and inclusion with real local impact."]
      },
      youthreach: {
        pt: ["YouthReach & Creative Support", "Diagnóstico, participação e comunicação jovem para municípios, escolas e organizações. Método, formação e execução."],
        en: ["YouthReach & Creative Support", "Youth diagnosis, participation and communication for municipalities, schools and organizations. Method, training and execution."]
      }
    };

    document.querySelectorAll("#accordion details").forEach(d=>{
      d.addEventListener("toggle", ()=>{
        if(!d.open) return;
        document.querySelectorAll("#accordion details").forEach(x=>{ if(x!==d) x.removeAttribute("open"); });
        const key = d.getAttribute("data-key");
        const lang = document.documentElement.getAttribute("data-lang") || "pt";
        const pair = explainCopy[key]?.[lang];
        if(pair){
          exTitle.textContent = pair[0];
          exText.textContent  = pair[1];
        }
      });
    });

    // ---------- Active section highlighting + minimap ----------
    const sections = Array.from(document.querySelectorAll("main section[id]"));
    const navLinks = Array.from(document.querySelectorAll(".navlink"));
    const mobNow = document.getElementById("mobNow");
    const minimapRail = document.getElementById("minimapRail");

    // Build minimap dots
    const dots = sections.map((sec)=>{
      const b = document.createElement("button");
      b.className = "dotNav";
      b.type = "button";
      b.setAttribute("aria-label", sec.getAttribute("data-title") || sec.id);
      b.addEventListener("click", ()=>sec.scrollIntoView({behavior:"smooth", block:"start"}));
      minimapRail.appendChild(b);
      return b;
    });

    let currentIndex = 0;

    const io = new IntersectionObserver((entries)=>{
      // pick the one most visible
      const visible = entries
        .filter(e=>e.isIntersecting)
        .sort((a,b)=> b.intersectionRatio - a.intersectionRatio)[0];
      if(!visible) return;

      const id = visible.target.id;
      const idx = sections.findIndex(s=>s.id===id);
      if(idx >= 0){
        currentIndex = idx;

        navLinks.forEach(a=>{
          a.dataset.active = (a.dataset.id === id) ? "true" : "false";
        });
        dots.forEach((d,i)=> d.dataset.active = (i===idx) ? "true" : "false");

        const title = visible.target.getAttribute("data-title") || id;
        mobNow.textContent = title;
      }
    }, { root: null, threshold: [0.18, 0.28, 0.38, 0.55] });

    sections.forEach(s=> io.observe(s));

    // Mobile prev/next
    const mobPrev = document.getElementById("mobPrev");
    const mobNext = document.getElementById("mobNext");
    mobPrev.addEventListener("click", ()=>{
      const next = Math.max(0, currentIndex - 1);
      sections[next].scrollIntoView({behavior:"smooth", block:"start"});
    });
    mobNext.addEventListener("click", ()=>{
      const next = Math.min(sections.length - 1, currentIndex + 1);
      sections[next].scrollIntoView({behavior:"smooth", block:"start"});
    });

    // ---------- Command palette ----------
    const palette = document.getElementById("palette");
    const paletteBg = document.getElementById("paletteBg");
    const paletteInput = document.getElementById("paletteInput");
    const paletteList = document.getElementById("paletteList");

    const openPaletteBtns = ["openPalette","openPalette2","openPalette3","openPalette4"]
      .map(id=>document.getElementById(id))
      .filter(Boolean);

    function openPalette(){
      palette.setAttribute("data-open","true");
      palette.setAttribute("aria-hidden","false");
      paletteInput.value = "";
      renderPaletteItems("");
      setTimeout(()=>paletteInput.focus(), 40);
    }
    function closePalette(){
      palette.setAttribute("data-open","false");
      palette.setAttribute("aria-hidden","true");
    }
    openPaletteBtns.forEach(btn=>btn.addEventListener("click", openPalette));
    paletteBg.addEventListener("click", closePalette);

    document.addEventListener("keydown", (e)=>{
      const isMac = navigator.platform.toLowerCase().includes("mac");
      const mod = isMac ? e.metaKey : e.ctrlKey;

      if(mod && e.key.toLowerCase() === "k"){
        e.preventDefault();
        if(palette.getAttribute("data-open")==="true") closePalette();
        else openPalette();
      }
      if(e.key === "Escape"){
        if(palette.getAttribute("data-open")==="true") closePalette();
        if(drawer.getAttribute("data-open")==="true") closeDrawerFn();
      }
    });

    // Build searchable data
    const searchData = sections.map(sec=>{
      const title = sec.getAttribute("data-title") || sec.id;
      const text = (sec.innerText || "").replace(/\s+/g," ").trim();
      return { id: sec.id, title, text };
    });

    function getFuse(){
      if(typeof Fuse === "undefined") return null;
      return new Fuse(searchData, {
        keys: ["title","text"],
        threshold: 0.35,
        ignoreLocation: true,
        minMatchCharLength: 2
      });
    }

    let fuse = null;
    function renderPaletteItems(query){
      paletteList.innerHTML = "";
      if(!fuse) fuse = getFuse();

      const lang = document.documentElement.getAttribute("data-lang") || "pt";
      const placeholder = lang === "pt"
        ? "Pesquisar… (ex.: processo, projetos, YouthReach)"
        : "Search… (e.g., process, projects, YouthReach)";
      paletteInput.placeholder = placeholder;

      let results = [];
      if(!query){
        results = searchData.map(x=>({ item:x })).slice(0, 8);
      }else if(fuse){
        results = fuse.search(query).slice(0, 10);
      }else{
        // fallback: simple filter
        const q = query.toLowerCase();
        results = searchData
          .filter(x => x.title.toLowerCase().includes(q) || x.text.toLowerCase().includes(q))
          .slice(0, 10)
          .map(x=>({item:x}));
      }

      results.forEach((r, idx)=>{
        const it = r.item;
        const div = document.createElement("div");
        div.className = "item";
        div.tabIndex = 0;
        div.innerHTML = `<span>${escapeHtml(it.title)}</span><small>#${String(idx+1).padStart(2,'0')}</small>`;
        div.addEventListener("click", ()=>{
          closePalette();
          document.getElementById(it.id).scrollIntoView({behavior:"smooth", block:"start"});
        });
        div.addEventListener("keydown", (e)=>{
          if(e.key === "Enter"){
            closePalette();
            document.getElementById(it.id).scrollIntoView({behavior:"smooth", block:"start"});
          }
        });
        paletteList.appendChild(div);
      });

      if(results.length === 0){
        const empty = document.createElement("div");
        empty.style.padding = "14px";
        empty.style.opacity = ".75";
        empty.style.fontWeight = "800";
        empty.textContent = lang === "pt" ? "Sem resultados." : "No results.";
        paletteList.appendChild(empty);
      }
    }

    paletteInput.addEventListener("input", (e)=> renderPaletteItems(e.target.value || ""));

    // ---------- Language toggle ----------
    const langBtn = document.getElementById("langBtn");
    const langBtn2 = document.getElementById("langBtn2");

    function toggleLang(){
      const cur = document.documentElement.getAttribute("data-lang") || "pt";
      const next = cur === "pt" ? "en" : "pt";
      applyLang(next);
      // refresh palette list for correct titles / placeholders
      if(palette.getAttribute("data-open")==="true"){
        renderPaletteItems(paletteInput.value || "");
      }
    }
    langBtn.addEventListener("click", toggleLang);
    langBtn2.addEventListener("click", toggleLang);

    // ---------- Smooth anchor handling + close drawer ----------
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener("click", (e)=>{
        const href = a.getAttribute("href");
        const id = href.slice(1);
        const el = document.getElementById(id);
        if(!el) return;
        e.preventDefault();
        el.scrollIntoView({behavior:"smooth", block:"start"});
        closeDrawerFn();
      });
    });

    // ---------- Init ----------
    document.getElementById("year").textContent = new Date().getFullYear();
    applyLang("pt");
  </script>
</body>
</html>
